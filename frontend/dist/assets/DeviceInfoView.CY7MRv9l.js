import{u as G,c as g,r as k,o as H,a as J,b as o,d as a,e as t,w as s,f as y,g as K,h as C,i as _,F as D,n as N,j as F,k as Q,E as w,l as X,m as u,p as n,q as Y,s as W,t as Z,v as d}from"./index.BWLkA7o2.js";const $={class:"bg-gray-50 min-h-screen"},ee={class:"bg-white shadow-sm border-b px-6 py-4"},le={class:"flex items-center justify-between"},ae={class:"flex items-center"},te={class:"flex space-x-2"},se={class:"p-6"},ue={key:1,class:"flex justify-center items-center py-8"},oe={class:"bg-white rounded-lg shadow-sm border"},re={class:"grid grid-cols-2"},ve={class:"px-4 py-3 bg-gray-50 border-r text-gray-600 font-medium"},ie={class:"px-4 py-3 text-gray-800"},ne={key:0,class:"border-r"},de={class:"grid grid-cols-2"},ce={class:"px-4 py-3 bg-gray-50 border-r text-gray-600 font-medium"},be={class:"px-4 py-3 text-gray-800"},fe={key:1},pe={class:"grid grid-cols-2"},ye={class:"px-4 py-3 bg-gray-50 border-r text-gray-600 font-medium"},_e={class:"px-4 py-3 text-gray-800"},me={class:"mt-6 flex justify-center space-x-4"},ge={key:0,class:"fixed bottom-4 right-4"},xe={key:3,class:"text-center py-12"},ke={__name:"DeviceInfoView",setup(Ie){const M=Q(),S=X(),c=G(),e=g(()=>c.currentDevice),z=k(5e3),b=k(!0);let x=null;const I=k(!0),f=k(!1),m=g(()=>e.value?!!e.value.设备名称:!1),R=g(()=>{if(!e.value)return[];const r=e.value.Name||e.value.Model||e.value["iOS Version"];return!e.value.设备名称&&r?[{label:"设备名称",value:e.value.Name||"未知"},{label:"设备型号",value:e.value.Model||"未知"},{label:"iOS版本",value:e.value["iOS Version"]||"未知"},{label:"序列号",value:e.value.Serial||"未知"},{label:"UDID",value:e.value.UDID||"未知"},{label:"容量",value:e.value.Capacity||"未知"},{label:"电池",value:e.value.Battery||"未知"},{label:"WiFi地址",value:e.value["WiFi Address"]||"未知"},{label:"状态",value:e.value.Status||"已连接"}]:[{label:"设备名称",value:e.value.设备名称||"未知"},{label:"设备类型",value:e.value.设备类型||"未知"},{label:"销售型号",value:e.value.销售型号||"未知"},{label:"IMEI",value:e.value.IMEI||"未知"},{label:"五码匹配",value:e.value.五码匹配||"未知"},{label:"销售地区",value:e.value.销售地区||"未知"},{label:"外壳颜色",value:e.value.外壳颜色||"未知"},{label:"充电次数",value:e.value.充电次数||"未知"},{label:"编译版本",value:e.value.编译版本||"未知"},{label:"蓝牙地址",value:e.value.蓝牙地址||"未知"},{label:"硬盘类型",value:e.value.硬盘类型||"未知"},{label:"WiFi序列号",value:e.value.WiFi序列号||"未知"},{label:"屏幕分辨率",value:e.value.屏幕分辨率||"未知"},{label:"红外摄像头",value:e.value.红外摄像头||"未知"},{label:"设备标识",value:e.value.设备标识||"未知"},{label:"盒命编号",value:e.value.盒命编号||"未知"},{label:"振动器编号",value:e.value.振动器编号||"未知"}]}),O=g(()=>{if(!e.value)return[];const r=e.value.Name||e.value.Model||e.value["iOS Version"];return!e.value.设备名称&&r?[]:[{label:"越狱状态",value:e.value.越狱状态||"未知"},{label:"设备型号",value:e.value.设备型号||"未知"},{label:"序列号",value:e.value.序列号||"未知"},{label:"IMEI2",value:e.value.IMEI2||"未知"},{label:"芯片型号",value:e.value.芯片型号||"未知"},{label:"生产日期",value:e.value.生产日期||"未知"},{label:"正在充电",value:e.value.正在充电||"未知"},{label:"电池寿命",value:e.value.电池寿命||"未知"},{label:"基带版本",value:e.value.基带版本||"未知"},{label:"蜂窝地址",value:e.value.蜂窝地址||"未知"},{label:"主板序列号",value:e.value.主板序列号||"未知"},{label:"WiFi模块",value:e.value.WiFi模块||"未知"},{label:"强制重启",value:e.value.强制重启||"未知"},{label:"芯牌",value:e.value.芯牌||"未知"}]}),U=g(()=>{if(!e.value)return[];const r=e.value.Name||e.value.Model||e.value["iOS Version"];return!e.value.设备名称&&r?[]:[{label:"激活状态",value:e.value.激活状态||"未知"},{label:"产品类型",value:e.value.产品类型||"未知"},{label:"卡槽类型",value:e.value.卡槽类型||"未知"},{label:"ECID",value:e.value.ECID||"未知"},{label:"硬件模型",value:e.value.硬件模型||"未知"},{label:"面板颜色",value:e.value.面板颜色||"未知"},{label:"剩余电量",value:e.value.剩余电量||"未知"},{label:"固件版本",value:e.value.固件版本||"未知"},{label:"WiFi地址",value:e.value.WiFi地址||"未知"},{label:"CPU架构",value:e.value.CPU架构||"未知"},{label:"销售类型",value:e.value.销售类型||"未知"},{label:"电话号码",value:e.value.电话号码||"未知"},{label:"距离传感器",value:e.value.距离传感器||"未知"},{label:"环境光",value:e.value.环境光||"未知"}]}),B=async(r=!0)=>{const l=M.params.id;if(l){r&&(I.value?I.value=!0:f.value=!0);try{await c.fetchDeviceInfo(l,!0)}catch(p){console.error("加载设备信息失败:",p)}finally{r&&(I.value=!1,f.value=!1)}}},E=()=>{h(),b.value&&(x=setInterval(async()=>{const r=M.params.id;try{if(!await c.checkDeviceConnection(r)){w.warning("设备已断开连接"),h(),S.push("/");return}f.value=!0,await c.fetchDeviceInfo(r,!0),f.value=!1}catch(l){console.error("自动刷新失败:",l),f.value=!1}},z.value))},h=()=>{x&&(clearInterval(x),x=null)},j=()=>{b.value=!b.value,b.value?(E(),w.success("已开启自动刷新")):(h(),w.info("已关闭自动刷新"))},A=()=>{w.info("功能开发中...")},V=()=>{S.push("/")};return H(()=>{B(!0),E()}),J(()=>{h()}),(r,l)=>{const p=y("el-icon"),i=y("el-button"),T=y("el-alert"),L=y("el-skeleton"),P=y("el-badge"),q=y("el-empty");return u(),o("div",$,[a("div",ee,[a("div",le,[a("div",ae,[t(i,{onClick:V,type:"default",size:"small",class:"mr-3"},{default:s(()=>[t(p,null,{default:s(()=>[t(_(Y))]),_:1}),l[0]||(l[0]=n(" 返回 ",-1))]),_:1}),l[1]||(l[1]=a("h1",{class:"text-xl font-semibold text-gray-800"},"设备详情",-1))]),a("div",te,[t(i,{size:"small",onClick:B},{default:s(()=>[t(p,null,{default:s(()=>[t(_(W))]),_:1}),l[2]||(l[2]=n(" 刷新 ",-1))]),_:1}),t(i,{type:b.value?"success":"default",size:"small",onClick:j},{default:s(()=>[t(p,null,{default:s(()=>[t(_(Z))]),_:1}),n(" "+d(b.value?"自动刷新中":"自动刷新"),1)]),_:1},8,["type"]),t(i,{type:"primary",size:"small"},{default:s(()=>[...l[3]||(l[3]=[n(" 数据到剪贴板 ",-1)])]),_:1}),t(i,{size:"small"},{default:s(()=>[...l[4]||(l[4]=[n("关闭",-1)])]),_:1})])])]),a("div",se,[_(c).error?(u(),K(T,{key:0,title:_(c).error,type:"error","show-icon":"",closable:"",class:"mb-4"},null,8,["title"])):C("",!0),I.value?(u(),o("div",ue,[t(L,{rows:10,animated:""})])):e.value?(u(),o(D,{key:2},[a("div",oe,[a("div",{class:N(["grid text-sm",{"grid-cols-3":m.value,"grid-cols-1":!m.value}])},[a("div",{class:N({"border-r":m.value})},[l[5]||(l[5]=a("div",{class:"bg-gray-50 px-4 py-2 border-b font-medium text-gray-700"},"基本信息",-1)),(u(!0),o(D,null,F(R.value,v=>(u(),o("div",{key:v.label,class:"border-b last:border-b-0"},[a("div",re,[a("div",ve,d(v.label),1),a("div",ie,d(v.value),1)])]))),128))],2),m.value?(u(),o("div",ne,[l[6]||(l[6]=a("div",{class:"bg-gray-50 px-4 py-2 border-b font-medium text-gray-700"},"硬件信息",-1)),(u(!0),o(D,null,F(O.value,v=>(u(),o("div",{key:v.label,class:"border-b last:border-b-0"},[a("div",de,[a("div",ce,d(v.label),1),a("div",be,d(v.value),1)])]))),128))])):C("",!0),m.value?(u(),o("div",fe,[l[7]||(l[7]=a("div",{class:"bg-gray-50 px-4 py-2 border-b font-medium text-gray-700"},"状态信息",-1)),(u(!0),o(D,null,F(U.value,v=>(u(),o("div",{key:v.label,class:"border-b last:border-b-0"},[a("div",pe,[a("div",ye,d(v.label),1),a("div",_e,d(v.value),1)])]))),128))])):C("",!0)],2)]),a("div",me,[t(i,{onClick:A},{default:s(()=>[...l[8]||(l[8]=[n("在记事本中打开",-1)])]),_:1}),t(i,{type:"primary"},{default:s(()=>[...l[9]||(l[9]=[n("数据到剪贴板",-1)])]),_:1}),t(i,{onClick:V},{default:s(()=>[...l[10]||(l[10]=[n("关闭",-1)])]),_:1})]),f.value?(u(),o("div",ge,[t(P,{"is-dot":"",type:"info"},{default:s(()=>[t(p,{class:"text-gray-500 animate-spin"},{default:s(()=>[t(_(W))]),_:1})]),_:1})])):C("",!0)],64)):(u(),o("div",xe,[t(q,{description:"无法获取设备信息"},{description:s(()=>[...l[11]||(l[11]=[a("p",null,"请确保设备已连接并且可以正常通信",-1)])]),default:s(()=>[t(i,{type:"primary",onClick:B},{default:s(()=>[...l[12]||(l[12]=[n("重试",-1)])]),_:1})]),_:1})]))])])}}};export{ke as default};
